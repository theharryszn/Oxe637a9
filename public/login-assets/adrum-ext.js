!function(){new function(){if(!window.ADRUM&&!0!==window["adrum-disable"]){var t=window.ADRUM={};window["adrum-start-time"]=window["adrum-start-time"]||(new Date).getTime(),function(t){!function(t){t.Cd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];for(e=0;e<t.length;e++){var n=t[e];n&&n.setUp()}}}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){function n(t){return"undefined"!=typeof t&&null!==t}function r(t){return"object"==typeof t&&!e.isArray(t)&&null!==t}function o(t){return"function"==typeof t||!1}function i(t){return"string"==typeof t}function a(t,n){for(var o in n){var i=n[o];if(s(n,o)){var u=t[o];r(i)&&r(u)?a(u,i):e.isArray(u)&&e.isArray(i)?t[o]=u.concat(i):t[o]=i}}return t}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&n(t[e])}function u(t){return i(t)?t.replace(/^\s*/,"").replace(/\s*$/,""):t}function c(t,e){var n=Array.prototype[t];return n?f(n):l(t,e)}function f(t){var e=Array.prototype.slice;return function(n){return t.apply(n,e.call(arguments,1))}}function l(t,e){return function(r,i){if(!n(r))throw new TypeError(t+" called on null or undefined");if(!o(i))throw new TypeError(i+" is not a function");return e.apply(null,arguments)}}function p(t,e,n){var r=Object(t),o=r.length>>>0,i=0;if(3>arguments.length){for(;i<o&&!(i in r);)i++;if(i>=o)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;i<o;i++)i in r&&(n=e(n,r[i],i,r));return n}function d(t,n,r){return e.reduce(t,function(t,e,o,i){return t[o]=n.call(r,e,o,i),t},Array(t.length>>>0))}function h(t,n,r){return e.reduce(t,function(t,e,o,i){return n.call(r,e,o,i)&&t.push(e),t},[])}var g=Array.isArray,m=Object.prototype.toString;e.isDefined=n,e.isArray=o(g)&&o(g.bind)?g.bind(Array):function(t){return m.call(t)===m.call([])},e.isObject=r,e.isFunction=o,e.isString=i,e.isNumber=function(t){return"number"==typeof t},e.isBoolean=function(t){return"boolean"==typeof t},e.lb=function(t){setTimeout(t,0)},e.addEventListener=function(e,n,r){function o(){try{return r.apply(this,Array.prototype.slice.call(arguments))}catch(r){t.exception(r,"M1",n,e,r)}}t.isDebug&&t.log("M0",n,e),e.addEventListener?e.addEventListener(n,o,!1):e.attachEvent&&e.attachEvent("on"+n,o)},e.loadScriptAsync=function(e){var n=document.createElement("script");n.async=!0,n.src=e;var r=document.getElementsByTagName("script")[0];r?(r.parentNode.insertBefore(n,r),t.log("M2",e)):t.log("M3",e)},e.mergeJSON=a,e.hasOwnPropertyDefined=s,e.Vh=function(t){var r=[];return n(t)&&(r=e.isArray(t)?t:[t]),r},e.generateGUID=function(t){return n(t)&&o(t.getRandomValues)&&function(){function e(t){return t=t.toString(16),"0000".substr(t.length)+t}var n=new Uint16Array(8);return t.getRandomValues(n),e(n[0])+e(n[1])+"_"+e(n[2])+"_"+e(n[3])+"_"+e(n[4])+"_"+e(n[5])+e(n[6])+e(n[7])}}(window.crypto||window.msCrypto)||function(){return"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},e.Ld=function(t){return t&&(t=t.stack)&&"string"==typeof t?t:null},e.trim=u,e.fh=function(t){var e,n,r={};if(!t)return r;var o=t.split("\n");for(n=0;n<o.length;n++){var i=o[n];e=i.indexOf(":"),t=u(i.substr(0,e)).toLowerCase(),e=u(i.substr(e+1)),t&&(r[t]=r[t]?r[t]+(", "+e):e)}return r},e.tryPeriodically=function(t,e,n,r){function o(){if(e())n&&n();else{var a=t(++i);0<a?setTimeout(o,a):r&&r()}}var i=0;o()},e.kc=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.gd=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];return t.apply(this,e.concat(n))}},e.now=function(){return(new Date).getTime()},e.li=p,e.reduce=c("reduce",p),e.ki=d,e.map=c("map",d),e.ji=h,e.filter=c("filter",h),e.Ff=function(t){return e.filter(t,n)},e.wf=function(t){return[].concat.apply([],t)}}(t.utils||(t.utils={}))}(t||(t={})),function(t){var e=t.conf||(t.conf={});e.userConf=window["adrum-config"]||{},e.useHTTPSAlways=!0===e.userConf.useHTTPSAlways,e.beaconUrlHttp=t.utils.isDefined(e.userConf.beaconUrlHttp)?e.userConf.beaconUrlHttp:"http://col.eum-appdynamics.com",e.beaconUrlHttps=t.utils.isDefined(e.userConf.beaconUrlHttps)?e.userConf.beaconUrlHttps:"https://col.eum-appdynamics.com",e.corsEndpointPath="/eumcollector/beacons/browser/v1",e.imageEndpointPath="/eumcollector/adrum.gif?",e.appKey=e.userConf.appKey||window["adrum-app-key"]||"APP_KEY_NOT_SET",t=e.useHTTPSAlways||"https:"===document.location.protocol;var n=e.userConf.adrumExtUrlHttp||"https://static.wellsfargo.com/assets/js/wfui/appdynamics",r=e.userConf.adrumExtUrlHttps||"https://static.wellsfargo.com/assets/js/wfui/appdynamics";e.adrumExtUrl=(t?r:n)+"/adrum-ext.b4436be974de477658d4a93afb752165.js",e.adrumXdUrl=r+"/adrum-xd.b4436be974de477658d4a93afb752165.html",e.agentVer="4.3.7.1",e.sendImageBeacon=e.userConf.beacon&&e.userConf.beacon.sendImageBeacon||window["adrum-send-image-beacon"],window["adrum-geo-resolver-url"]?(n=window["adrum-geo-resolver-url"],r=n.indexOf("://"),-1!=r&&(n=n.substring(r+3)),n=(t?"https://":"http://")+n):(n=e.userConf.geoResolverUrlHttps||"",r=e.userConf.geoResolverUrlHttp||"",n=t?n:r),e.geoResolverUrl=n,e.useStrictDomainCookies=!0===window["adrum-use-strict-domain-cookies"],e.Fe=10}(t||(t={})),function(t){function e(e,n,r,o){return e=t.conf.beaconUrlHttps+"/eumcollector/error.gif?version=1&appKey="+r+"&msg="+encodeURIComponent(e.substring(0,500)),o&&(e+="&stack=",e+=encodeURIComponent(o.substring(0,1500-e.length))),e}function n(n,r){2<=a||(document.createElement("img").src=e(n,0,t.conf.appKey,r),a++)}function r(t){return 0<=t.location.search.indexOf("ADRUM_debug=true")||0<=t.cookie.search(/(^|;)\s*ADRUM_debug=true/)}t.iDR=r,function(t){t[t.API_ERROR=0]="API_ERROR",t[t.API_ERROR_INVALID_PARAMS=1]="API_ERROR_INVALID_PARAMS",t[t.API_ERROR_INVALID_CONFIG=2]="API_ERROR_INVALID_CONFIG",t[t.API_WARNING=3]="API_WARNING",t[t.API_WARNING_INEFFECTIVE_CONFIG=4]="API_WARNING_INEFFECTIVE_CONFIG"}(t.$d||(t.$d={})),t.ja=["JS Agent API Error:","JS Agent API Error Invalid Parameters: ","JS Agent API Error Invalid Configs: ","JS Agent API Warning:","JS Agent API Warning Ineffective Config:"],t.W=" a constructor is called as a function. Don't forget keyword new.",t.isDebug=r(document),t.apiMessageConsoleOut=!(!t.utils.isDefined(t.conf.userConf)||!t.utils.isDefined(t.conf.userConf.log)||!0!==t.conf.userConf.log.apiMessageConsoleOut);var o=[],i=[];t.logMessages=o,t.apiMessages=i,t.log=function(e){for(var n=1;n<arguments.length;n++);t.isDebug&&o.push(Array.prototype.slice.call(arguments).join(" | "))},t.Pg=function(t){for(var e=1;e<arguments.length;e++);i.push(Array.prototype.slice.call(arguments).join(" | "))},t.error=function(e){for(var r=1;r<arguments.length;r++);r=Array.prototype.slice.call(arguments).join(" | "),t.log(r),n(r,null)},t.reportAPIMessage=function(e,n,r,o){var i=t.ih.apply(this,arguments);return t.Pg(i),t.apiMessageConsoleOut&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log(i),i},t.exception=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];1>arguments.length||(e=Array.prototype.slice.call(arguments),r=t.utils.Ld(e[0]),e=e.slice(1).join(" | "),t.log(e),n(e,r))},t.assert=function(e,n){e||t.error("Assert fail: "+n)},t.dumpLog=t.isDebug?function(){for(var t="",e=0;e<o.length;e++)t+=o[e].replace(RegExp("<br/>","g"),"\n\t")+"\n";return t}:function(){},t.ih=function(e,n,r,o){var i,a="",a="",s=(new window.Error).stack,s=t.utils.isString(s)?s.substring(5):s+"";switch(t.utils.isDefined(i)||(i=t.utils.map(o,function(t){return null===t?"null":void 0==t?"undefined":""===t?"''":t})),e){case 0:case 3:a=t.ja[e],a=t.utils.isDefined(r)?""+a+n+"\n in "+r+"("+i.join(", ")+")\n"+s:""+a+n+"\n"+s;break;case 1:a=t.ja[e],a=""+a+n+"\nin "+r+"("+i.join(", ")+")\n"+s;break;case 2:case 4:a=t.ja[e],a=""+a+n+", but "+r+"="+i.join(", ")+"\n"+s;break;default:a=t.ja[0],a=""+a+n+"\nin "+r+"("+i.join(", ")+")\n"+s}return a},t.cIEBU=e;var a=0;t.log("M4")}(t||(t={})),function(t){var e=function(){function t(t){this.max=t,this.Ma=0}return t.prototype.tg=function(){this.wa()||this.Ma++},t.prototype.wa=function(){return this.Ma>=this.max},t.prototype.reset=function(){this.Ma=0},t}(),n=function(){function n(){this.pa=[],this.pb=new e(n.Pe),this.ab=new e(n.Ie)}return n.prototype.submit=function(e){this.push(e)&&t.initEXTDone&&this.processQ()},n.prototype.processQ=function(){for(var e=this.If(),n=0;n<e.length;n++){var r=e[n];"function"==typeof t.commands[r[0]]?(t.isDebug&&t.log("M5",r[0],r.slice(1).join(", ")),t.commands[r[0]].apply(t,r.slice(1))):t.error("M6",r[0])}},n.prototype.Ig=function(t){return"reportXhr"===t||"reportPageError"===t},n.prototype.push=function(e){var n=e[0],r=this.Ig(n),o=r?this.pb:this.ab;return o.wa()?(t.log("M7",r?"spontaneous":"non spontaneous",n),!1):(this.pa.push(e),o.tg(),!0)},n.prototype.If=function(){var t=this.pa;return this.reset(),t},n.prototype.size=function(){return this.pa.length},n.prototype.reset=function(){this.pa=[],this.pb.reset(),this.ab.reset()},n.prototype.isSpontaneousQueueDead=function(){return this.pb.wa()},n.prototype.isNonSpontaneousQueueDead=function(){return this.ab.wa()},n.Pe=100,n.Ie=100,n}();t.ge=n}(t||(t={})),function(t){t.q=new t.ge,t.command=function(e){for(var n=1;n<arguments.length;n++);t.isDebug&&t.log("M8",e,Array.prototype.slice.call(arguments).slice(1).join(", ")),t.q.submit(Array.prototype.slice.call(arguments))}}(t||(t={})),function(t){!function(t){var e=function(){function t(){this.status={}}return t.prototype.setUp=function(){},t.prototype.set=function(t,e){this.status[t]=e},t}();t.Hb=e}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){window.ADRUM.aop=e,e.support=function(t){return!t||"apply"in t},e.around=function(n,r,o,i,a){return t.assert(e.support(n),"aop.around called on a function which does not support interception"),n=n||function(){},function(){t.isDebug&&t.log("M9",i,Array.prototype.slice.call(arguments).join(", "));var e,s=Array.prototype.slice.call(arguments);try{r&&(e=r.apply(this,s))}catch(e){t.exception(e,"M10",i,e)}t.assert(!e||"[object Array]"===Object.prototype.toString.call(e));var u=void 0;try{u=n.apply(this,e||s)}catch(t){throw a&&a(t),t}finally{try{o&&o.apply(this,s)}catch(e){t.exception(e,"M11",i,e)}}return u}},e.before=function(t,n,r){return e.around(t,n,null,r)},e.after=function(t,n,r){return e.around(t,null,n,r)}}(t.aop||(t.aop={}))}(t||(t={})),function(t){t=t.EventType||(t.EventType={}),t[t.PageView=0]="PageView",t[t.Ajax=2]="Ajax",t[t.VPageView=3]="VPageView",t[t.Error=4]="Error",t[t.IFRAME=1]="IFRAME",t[t.ABSTRACT=100]="ABSTRACT",t[t.ADRUM_XHR=101]="ADRUM_XHR",t[t.NG_VIRTUAL_PAGE=102]="NG_VIRTUAL_PAGE"}(t||(t={})),function(t){t=t.events||(t.events={}),t.w={},t.w[100]={guid:"string",url:"string",parentGUID:"string",parentUrl:"string",parentType:"number",timestamp:"number"},t.w[3]={resTiming:"object"},t.w[102]={digestCount:"number"},t.w[2]={method:"string",parentPhase:"string",parentPhaseId:"number",error:"object",parameter:"object",xhrStatus:"number"},t.w[101]={allResponseHeaders:"string"},t.w[4]={msg:"string",line:"number",stack:"string"}}(t||(t={})),function(t){var e=function(){function t(){this.D={}}return t.prototype.mark=function(t,e){n.mark.apply(this,arguments)},t.prototype.getTiming=function(t){return(t=this.getEntryByName(t))&&t.startTime},t.prototype.measure=function(t,e,r){n.measure.apply(this,arguments)},t.prototype.getEntryByName=function(t){return n.getEntryByName.call(this,t)},t.La=function(t){return n.La(t)},t}();t.PerformanceTracker=e;var n;!function(e){var n=t.utils.hasOwnPropertyDefined,r=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,o=t.utils.isObject(r)&&t.utils.isObject(r.timing)&&t.utils.isNumber(r.timing.navigationStart)?r.timing.navigationStart:window["adrum-start-time"],i=t.utils.now;e.mark=function(e,n){this.D[e]={name:e,entryType:"mark",startTime:t.utils.isDefined(n)?n:i(),duration:0}},e.measure=function(e,r,a){n(this.D,r)&&n(this.D,a)?this.D[e]={name:e,entryType:"measure",startTime:r?this.D[r].startTime:o,duration:(a?this.D[a].startTime:i())-(r?this.D[r].startTime:o)}:t.error("M12",n(this.D,r)?a:r)},e.getEntryByName=function(t){return this.D[t]||null},e.La=function(t){return t+o}}(n||(n={}))}(t||(t={})),function(t){!function(e){function n(e,n){e=e||{};for(var r in e)n[r]=function(){var n=r,o=e[r];return function(e){var r="_"+n,i=this[r];if(t.utils.isDefined(e)){if(typeof e!==o)throw r="wrong type of "+n+" value, "+typeof e+" passed in but should be a "+o+".",t.reportAPIMessage(1,r,"ADRUM.report",Array.prototype.slice.call(arguments)),TypeError(r);this[r]=e}return i}}()}function r(t){var e,n={};for(e in t){var r=t[e];n[r.start]=!0,n[r.end]=!0}return n}var o=function(){function e(e){this.perf=new t.PerformanceTracker,"Object"===this.constructor.name&&t.reportAPIMessage(0,t.W),this.timestamp(t.utils.now()),this.guid(t.utils.generateGUID()),this.url(document.URL),this.nb(e)}return e.prototype.type=function(){return 100},e.prototype.nb=function(e){if(t.utils.isObject(e))for(var n in e){var r=this[n]||this["mark"+t.utils.kc(n)];r&&t.utils.isFunction(r)&&r.call(this,e[n])}},e.fc=function(t,e,n){return{guid:function(){return t},url:function(){return e},type:function(){return n}}},e.prototype.hg=function(){return e.fc(this.parentGUID(),this.parentUrl(),this.parentType())},e.prototype.parent=function(e){var n=this.hg();return t.utils.isDefined(e)&&(t.utils.isFunction(e.guid)&&t.utils.isFunction(e.url)&&t.utils.isFunction(e.type)?(this.parentGUID(e.guid()),this.parentUrl(e.url()),this.parentType(e.type())):t.reportAPIMessage(0,"object is not a valid EventIdentifier","EventTracker.parent",Array.prototype.slice.call(arguments))),n},e}();e.EventTracker=o,e.aa=n,e.gc=function(e,n){e=e||{};var o,i=r(e);for(o in i)i=t.utils.kc(o),n["mark"+i]=t.utils.gd(function(t,e){this.perf.mark(t,e)},o),n["get"+i]=t.utils.gd(function(t){return this.perf.getTiming(t)},o)},n(e.w[100],o.prototype)}(t.events||(t.events={}))}(t||(t={}));var e=this.ff||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n};!function(t){!function(n){var r=function(n){function r(e){this.constructor!=r?t.reportAPIMessage(0,t.W,"ADRUM.events.Error",[]):n.call(this,e)}return e(r,n),r.prototype.type=function(){return 4},r}(n.EventTracker);n.Error=r,n.aa(n.w[4],r.prototype)}(t.events||(t.events={}))}(t||(t={})),function(t){!function(n){var r=function(n){function r(){n.apply(this,arguments)}return e(r,n),r.prototype.setUp=function(){var e=this;n.prototype.setUp.call(this),t.listenForErrors=function(){e.Wc()},this.Wc()},r.prototype.qd=function(e,n,o,i){r.errorsSent>=t.conf.Fe?t.log("M13"):(i=t.utils.Ld(i),t.command("reportPageError",new t.events.Error(t.utils.mergeJSON({msg:e+"",url:t.utils.isString(n)?n:void 0,line:t.utils.isNumber(o)?o:void 0,stack:i},this.status))),r.errorsSent++)},r.prototype.Wc=function(){var e=this;t.aop.support(window.onerror)?(window.onerror=t.aop.around(window.onerror,function(t,n,o,i,a){r.Ya||(e.qd(t,n,o,a),r.Ya=!0)},function(){r.Ya=!1},"onerror"),t.log("M14")):t.log("M15")},r.Ya=!1,r.errorsSent=0,r}(n.Hb);n.ErrorMonitor=r,n.Ra=new n.ErrorMonitor}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){var e=function(){function e(){this.Fa=[],this.Ba(e.Ia,0)}return e.prototype.Wg=function(t){this.Ba(e.$b,t)},e.prototype.Yg=function(t){this.Ba(e.hc,t)},e.prototype.Xg=function(t){this.Ba(e.bc,t)},e.prototype.Ba=function(t,e){this.Fa.push({Vg:(new Date).getTime(),Ug:e,hd:t}),this.Cf=t},e.prototype.getPhaseName=function(){return this.Cf},e.prototype.getPhaseID=function(t){for(var n=0;n<e.ec.length;n++)if(e.ec[n]===t)return n;return null},e.prototype.getPhaseCallbackTime=function(t){for(var e=this.Fa,n=0;n<e.length;n++)if(e[n].hd===t)return e[n].Vg;return null},e.prototype.findPhaseAtNominalTime=function(n){t.assert(0<=n);for(var r=this.Fa,o=r.length-1;0<=o;o--)if(n>=r[o].Ug)return r[o].hd;return t.error("M16",n,t.utils.Jf(r)),e.Ia},e.Ia="AFTER_FIRST_BYTE",e.$b="AFTER_DOM_INTERACTIVE",e.hc="AT_ONLOAD",e.bc="AFTER_ONLOAD",e.ec=[e.Ia,e.$b,e.hc,e.bc],e}();t.ei=e,t.lifecycle=new e,t.lifecycle=t.lifecycle}(t||(t={})),function(t){!function(t){var n=function(t){function n(){t.apply(this,arguments)}return e(n,t),n.prototype.type=function(){return 0},n}(t.EventTracker);t.PageView=n}(t.events||(t.events={}))}(t||(t={})),function(t){!function(e){var n=t.utils.now,r=function(){function r(){}return r.prototype.setUp=function(){var e=document.readyState;if("loading"===e)t.log("M17"),r.wh(),r.Dd();else{var o={timeStamp:n()};r.X(o),"interactive"===e?(t.log("M18"),r.Dd()):(t.log("M19"),r.ca(o),r.fd(o))}},r.Dd=function(){t.utils.addEventListener(window,"load",r.ca),t.utils.addEventListener(window,"load",r.fd)},r.fd=function(o){r.currentBasePage=new t.events.PageView,t.lifecycle.Yg(o&&o.timeStamp),t.utils.lb(function(){var o=n();t.lifecycle.Xg(o),t.command("mark","onload",o),e.PerformanceMonitor.perf&&(e.perfMonitor.xf(),e.perfMonitor.yf()),t.command("reportOnload",r.currentBasePage),t.utils.loadScriptAsync(t.conf.adrumExtUrl)}),t.log("M20")},r.wh=function(){if(t.utils.isFunction(document.addEventListener))document.addEventListener("DOMContentLoaded",r.X,!1);else if(t.utils.isObject(document.attachEvent)){document.attachEvent("onreadystatechange",r.X);var e=null;try{e=null===window.frameElement?document.documentElement:null}catch(t){}null!=e&&e.doScroll&&function t(){if(!r.isReady){try{e.doScroll("left")}catch(e){return void setTimeout(t,10)}r.ca()}}()}else t.exception("M21");t.log("M22")},r.ca=function(e){r.Zc||(t.lifecycle.Wg(e&&e.timeStamp),t.command("mark","onready",n()),r.Zc=!0)},r.X=function(t){document.addEventListener?(document.removeEventListener("DOMContentLoaded",r.X,!1),r.ca(t)):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",r.X),r.ca(t))},r.isReady=!1,r.Zc=!1,r}();e.DOMEventsMonitor=r,e.Hf=new e.DOMEventsMonitor}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){var n=function(){function e(){this.navTiming=this.resTiming=null}return e.prototype.setUp=function(){e.perf=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,t.utils.isObject(e.perf)&&t.utils.isObject(e.perf.timing)||(e.perf=void 0),this.setResourceTimingBufferSize()},e.prototype.setResourceTimingBufferSize=function(){var n=e.perf,r=t.conf.userConf&&t.conf.userConf.resTiming&&t.conf.userConf.resTiming.bufSize;!t.utils.isNumber(r)||0>=r?t.log("M23"):n&&t.utils.isFunction(n.setResourceTimingBufferSize)?n.setResourceTimingBufferSize(r):t.log("M24setResourceTimingBufferSize is not supported")},e.prototype.xf=function(){var n=e.perf;if(n=n&&n.timing)if(n.navigationStart&&n.navigationStart<=n.loadEventEnd){var r,o={};for(r in n){var i=n[r];"number"==typeof i&&(o[r]=i)}this.navTiming=o}else t.log("M26");else t.log("M25")},e.prototype.yf=function(){this.resTiming=this.Dc()},e.prototype.Dc=function(){var n=e.perf,r=[];return n&&n.getEntriesByType&&(n=n.getEntriesByType("resource"))&&n.length&&0<n.length&&n.unshift&&(r=n),0==r.length&&t.log("M27"),r},e.perf=null,e}();e.PerformanceMonitor=n,e.perfMonitor=new e.PerformanceMonitor}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){e.parseURI=function(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t=e&&null!=t.match(e[1]+"//"),e&&{href:e[0]||"",protocol:e[1]||"",ob:t?"//":"",wb:e[2]||"",gb:e[3]||"",host:e[4]||"",hostname:e[5]||"",port:e[6]||"",pathname:e[7]||"",search:e[8]||"",hash:e[9]||""}},e.absolutizeURI=function(t,n){function r(t){var e=[];return t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?e.pop():e.push(t)}),e.join("").replace(/^\//,"/"===t.charAt(0)?"/":"")}var o,i,a,s,u,c,f,l;return l=n?e.parseURI(n):{},f=t?e.parseURI(t):{},l.protocol?(o=l.protocol,i=l.ob,a=l.wb,s=l.gb,u=l.host,c=r(l.pathname),f=l.search):l.host?(o=f.protocol,i=f.ob,a=l.wb,s=l.gb,u=l.host,c=r(l.pathname),f=l.search):(o=f.protocol,i=f.ob,a=f.wb,s=f.gb,u=f.host,l.pathname?("/"===l.pathname.charAt(0)?c=r(l.pathname):(c=f.pathname?f.pathname.slice(0,f.pathname.lastIndexOf("/")+1)+l.pathname:i?"/"+l.pathname:l.pathname,c=r(c)),f=l.search):(c=r(f.pathname),f=l.search||f.search)),o+i+(a?a+(s?":"+s:"")+"@":"")+u+c+f+(l.hash?l.hash:"")},e.getFullyQualifiedUrl=function(n){try{var r,o,i=document.location.href;t:{for(var a=document.getElementsByTagName("base"),s=0;s<a.length;s++){var u=a[s].href;if(u){o=u;break t}}o=void 0}return r=o?e.absolutizeURI(i,o):i,e.absolutizeURI(r,n)}catch(e){return t.exception(e,"M28",n,r),n}}}(t.utils||(t.utils={}))}(t||(t={})),function(t){t=t.events||(t.events={}),t=t.b||(t.b={}),t.navigationStart="navigationStart",t.domainLookupStart="domainLookupStart",t.domainLookupEnd="domainLookupEnd",t.connectStart="connectStart",t.secureConnectionStart="secureConnectionStart",t.connectEnd="connectEnd",t.requestStart="requestStart",t.responseStart="responseStart",t.responseEnd="responseEnd",t.domContentLoadedEventStart="domContentLoadedEventStart",t.loadEventEnd="loadEventEnd",t.Ad="sendTime",t.xc="firstByteTime",t.vd="respAvailTime",t.wd="respProcTime",t.yb="viewChangeStart",t.Qd="viewChangeEnd",t.zb="viewDOMLoaded",t.Vd="xhrRequestsCompleted",t.Oi="viewFragmentsLoaded",t.Pi="viewResourcesLoaded",t.Ab="virtualPageStart",t.Sh="virtualPageEnd"}(t||(t={})),function(t){t=t.events||(t.events={}),t.metricSpec={},t.metricSpec[0]={Of:{start:t.b.navigationStart,end:t.b.loadEventEnd,name:"PLT"},Vf:{start:t.b.navigationStart,end:t.b.responseStart,name:"FBT"},Ki:{start:t.b.navigationStart,end:t.b.requestStart,name:"SCT"},Li:{start:t.b.secureConnectionStart,end:t.b.connectEnd,name:"SHT"},ri:{start:t.b.domainLookupStart,end:t.b.domainLookupEnd,name:"DLT"},Ni:{start:t.b.connectStart,end:t.b.connectEnd,name:"TCP"},Ii:{start:t.b.requestStart,end:t.b.responseStart,name:"RAT"},ti:{start:t.b.responseStart,end:t.b.loadEventEnd,name:"FET"},vi:{start:t.b.responseStart,end:t.b.domContentLoadedEventStart,name:"DRT"},ii:{start:t.b.responseStart,end:t.b.responseEnd,name:"DDT"},pi:{start:t.b.responseEnd,end:t.b.domContentLoadedEventStart,name:"DPT"},Hi:{start:t.b.domContentLoadedEventStart,end:t.b.loadEventEnd,name:"PRT"},qi:{start:t.b.navigationStart,end:t.b.domContentLoadedEventStart,name:"DOM"}},t.metricSpec[2]={Vf:{start:t.b.Ad,end:t.b.xc,name:"FBT"},ui:{start:t.b.xc,end:t.b.vd,name:"DDT"},hi:{start:t.b.vd,end:t.b.wd,name:"DPT"},Of:{start:t.b.Ad,end:t.b.wd,name:"PLT"}},t.metricSpec[3]={Bi:{start:t.b.Ab,end:t.b.Sh,name:"PLT"},ni:{start:t.b.yb,end:t.b.Qd,name:"DDT"},yi:{start:t.b.yb,end:t.b.zb,name:"DRT"},Zh:{start:t.b.Qd,end:t.b.zb,name:"DPT"},$h:{start:t.b.yb,end:t.b.zb,name:"DOM"},Gi:{start:"viewChangeEnd",end:"xhrRequestsCompleted",name:null},zi:{start:"viewChangeEnd",end:"viewPartialsLoaded",name:null},xi:{start:"viewPartialsLoaded",end:"viewFragmentsLoaded",name:null},Ai:{start:"viewPartialsLoaded",end:"viewResourcesLoaded",name:null}},t.metricSpec[102]=t.metricSpec[3]}(t||(t={})),function(t){!function(n){var r=function(r){function o(e){this.constructor!=o&&this.constructor!=n.AdrumAjax?t.reportAPIMessage(0,t.W,"ADRUM.events.Ajax",[]):r.call(this,e)}return e(o,r),o.prototype.type=function(){return 2},o}(n.EventTracker);n.Ajax=r,n.aa(n.w[2],r.prototype),n.gc(n.metricSpec[2],r.prototype)}(t.events||(t.events={}))}(t||(t={})),function(t){!function(t){var n=function(t){function n(e){t.call(this,e)}return e(n,t),n.prototype.type=function(){return 2},n}(t.Ajax);t.AdrumAjax=n,t.aa(t.w[101],n.prototype)}(t.events||(t.events={}))}(t||(t={})),function(t){!function(n){var r=t.utils.isObject,o=t.utils.isDefined,i=t.utils.map,a=t.utils.reduce,s=t.utils.filter,u=t.utils.Vh,c=t.utils.isString,f=t.utils.Ff,l=t.utils.wf,p=t.utils.isFunction,d=t.utils.mergeJSON,h=function(n){function h(){n.call(this),this.conf=null,this.qb=!1,this.Ja=0,!0===window["adrum-xhr-disable"]?t.log("M29"):window.XMLHttpRequest?(this.conf={exclude:[{urls:[{pattern:t.conf.beaconUrlHttp+t.conf.corsEndpointPath},{pattern:t.conf.beaconUrlHttps+t.conf.corsEndpointPath}]}],include:[],maxPerPageView:h.Fb},h.nd(this.conf,t.conf.userConf&&t.conf.userConf.xhr),(this.g=window.XMLHttpRequest.prototype)?"open"in this.g&&"send"in this.g?(this.qb=t.aop.support(this.g.open)&&t.aop.support(this.g.send))||t.log("M33"):t.log("M32"):t.log("M31")):t.log("M30")}return e(h,n),h.nd=function(e,n){var r=h.Fb;if(n){var o=n.maxPerPageView;t.utils.isNumber(o)&&0<o?r=o:t.reportAPIMessage(4,"value is not valid; don't limit xhr","xhr.maxPerPageView",[o])}e.maxPerPageView=r,e.exclude=h.xb(h.Pd,"exclude",e,n),e.include=h.xb(h.Pd,"include",e,n),e.parameter=h.xb(h.Qh,"parameter",n)},h.xb=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return f(i(s(l(i(f(n),function(t){return u(t[e])})),h.Eg(e)),t))},h.Pd=function(t){var e=h.ld(t);return t=h.md(t),e||t},h.Eg=function(e){return function(n){return r(n)||t.reportAPIMessage(2,"Filter object must be an object","xhr."+e,[n])}},h.md=function(t){var e=t.urls;if(e&&0<e.length&&(t.urls=h.Af(e),0<t.urls.length))return t},h.ld=function(e){var n=e.method;if(o(n)){if(c(n))return e;t.error("M34")}},h.Qh=function(t){var e=h.md(t);return h.ld(t),h.jh(t)&&e},h.jh=function(e){return p(e.getFromBody)?e:void t.error("M35")},h.Af=function(e){for(var n=[],r=0;r<e.length;r++){var o=e[r].pattern;if("string"==typeof o)try{n.push(new RegExp(o))}catch(e){t.exception(e,"Parse regex pattern failed.")}else t.error("xhr filter pattern should be a string")}return n},h.Ed=function(t,e,n){var r=n&&n.include;return n=n&&n.exclude,r&&0<r.length&&!h.Tc(e,t,r)||n&&0<n.length&&h.Tc(e,t,n)},h.uc=function(e){var n=e.message||e.description,r=e.fileName||e.filename,o=e.lineNumber;t.utils.isString(e.description)&&0<=e.description.indexOf("Access is denied.")&&(n+=": maybe you have CORS XHR error in IE"),t.monitor.Ra.qd(n,r,o,e)},h.prototype.setUp=function(){if(this.qb){t.log("M36"),t.xhrConstructor=window.XMLHttpRequest,t.xhrOpen=this.xhrOpen=this.g.open,t.xhrSend=this.xhrSend=this.g.send;var e=this;this.g.open=t.aop.around(this.g.open,function(){h.Gg(this)&&(4===this.readyState?(t.log("M37"),h.Pf(this._adrumAjaxT),h.a(this,this._adrumAjaxT)):t.log("M38"+this._adrumAjaxT.url()+"' is reported."));var n=1<=arguments.length?String(arguments[0]):"",r=2<=arguments.length?String(arguments[1]):"",r=t.utils.getFullyQualifiedUrl(r);e.Ja>=e.conf.maxPerPageView||h.Ed(r,n,e.conf)||(this._adrumAjaxT=new t.events.AdrumAjax(t.utils.mergeJSON({method:n,url:r},e.status)))},null,"XHR.open",h.uc),this.g.send=t.aop.around(this.g.send,function(n){var r=this,o=this._adrumAjaxT;if(o&&!(++e.Ja>e.conf.maxPerPageView)){var i=t.utils.now(),a=o.getSendTime();t.assert(null===a,"M39"),o.timestamp(i),o.markSendTime(a||i),o.parentPhase(t.lifecycle.getPhaseName()),h.Rc(o.url())?r.setRequestHeader("ADRUM","isAjax:true"):t.log("M40",document.location.href,o.url()),n=h.gg(o.url(),e.conf.parameter,n),o.parameter(n);var s=0,u=function(){if(4==r.readyState)t.log("M41"),e.Ga(r);else{var n=null;try{n=r.onreadystatechange}catch(n){return t.log("M42",n),void e.Ga(r)}s++,n?t.aop.support(n)?(r.onreadystatechange=e.pc(n,r,"XHR.onReadyStateChange"),t.log("M43",s)):(t.log("M44"),e.Ga(r)):s<h.df?t.utils.lb(u):(t.log("M45"),e.Ga(r))}};u()}},null,"XHR.send",h.uc),"addEventListener"in this.g&&"removeEventListener"in this.g&&t.aop.support(this.g.addEventListener)&&t.aop.support(this.g.removeEventListener)?(this.g.addEventListener=t.aop.around(this.g.addEventListener,this.Bf(),null,"XHR.addEventListener"),this.g.removeEventListener=t.aop.around(this.g.removeEventListener,function(e,n){if(this._adrumAjaxT){var r=Array.prototype.slice.call(arguments);return n.__adrumInterceptor?(r[1]=n.__adrumInterceptor,t.log("M46")):t.log("M47"),r}},null,"XHR.removeEventListener")):t.log("M48"),t.log("M49")}},h.prototype.td=function(){this.Ja=0},h.$c=function(t,e){for(var n=!1,r=0;r<e.length;r++){var o=e[r];if(o&&o.test(t)){n=!0;break}}return n},h.Tc=function(t,e,n){var r=!1;if(e&&n)for(var o=0;o<n.length;o++){var i=n[o];if(!(i.method&&t!==i.method||i.urls&&!h.$c(e,i.urls))){r=!0;break}}return r},h.gh=function(t,e,n){return(e||t)===(n||t)},h.Rc=function(t){var e=document.createElement("a");e.href=t,t=document.location;var n=t.protocol;return e.protocol===n&&e.hostname===t.hostname&&h.gh(h.Ef[n],e.port,t.port)},h.gg=function(t,e,n){if(e&&(e=s(i(s(e,function(e){return h.$c(t,e.urls)}),function(t){return t.getFromBody(n)}),r),0<e.length))return a(e,d,{})},h.Ic=function(e){var n=e._adrumAjaxT;if(n){var r=(new Date).getTime();2==e.readyState?n.markFirstByteTime(n.getFirstByteTime()||r):4==e.readyState&&(t.assert(null===n.getRespAvailTime(),"M50"),n.markRespAvailTime(n.getRespAvailTime()||r),n.markFirstByteTime(n.getFirstByteTime()||r))}},h.prototype.pc=function(e,n,r){return h.Xh(e,function(){h.Ic(this)},function(){var e=n._adrumAjaxT;if(e&&4==n.readyState){var r=(new Date).getTime();t.assert(null===e.getRespProcTime(),"M51"),e.markRespProcTime(e.getRespProcTime()||r),h.a(n,e)}},r)},h.Gg=function(e){return t.utils.isDefined(e._adrumAjaxT)&&t.utils.isString(e._adrumAjaxT._url)},h.Pf=function(t){var e=(new Date).getTime();t.markRespAvailTime(t.getRespAvailTime()||e),t.markFirstByteTime(t.getFirstByteTime()||e),t.markRespProcTime(t.getRespProcTime()||e)},h.a=function(e,n){var r,o=e.status;if(n.xhrStatus(o),n.allResponseHeaders(e.getAllResponseHeaders()),400<=o){try{c(e.responseText)&&(r=e.responseText)}catch(t){c(e.responseType)&&(r=e.responseType)}n.error({status:o,msg:r})}else 0!==o||h.Rc(n.url())||n.error({status:o,msg:"Cannot load requested resource. The cause may be: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin is therefore not allowed access"});t.command("reportXhr",n)},h.prototype.Ga=function(e){if(e._adrumAjaxT){var n=(new Date).getTime()+3e4,r=function(){h.Ic(e);var o=e._adrumAjaxT;if(o){var i=(new Date).getTime();4==e.readyState?(t.assert(null===o.getRespProcTime(),"M52"),o.markRespProcTime(o.getRespProcTime()||i),t.log("M53"),h.a(e,o),delete e._adrumAjaxT):i<n?setTimeout(r,h.Gb):(delete e._adrumAjaxT,t.log("M54"))}};r()}},h.Xh=function(e,n,r,o){var i=e;return e&&"object"==typeof e&&"toString"in e&&"[xpconnect wrapped nsIDOMEventListener]"===e.toString()&&"handleEvent"in e&&(i=function(){e.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),t.aop.around(i,n,r,o)},h.prototype.Bf=function(){for(var e=0;e<arguments.length;e++);var n=this;return function(e,r){if(("load"===e||"error"===e)&&r&&this._adrumAjaxT){var o;if(o=r,o.__adrumInterceptor)o=o.__adrumInterceptor;else if(t.aop.support(o)){var i=n.pc(o,this,"XHR.invokeEventListener");o=o.__adrumInterceptor=i}else o=null;if(o)return i=Array.prototype.slice.call(arguments),i[1]=o,t.log("M55"),i;t.log("M56",e,r)}}},h.df=5,h.Gb=50,h.Fb=50,h.Ef={"http:":"80","https:":"443"},h}(n.Hb);n.na=h,n.ia=new n.na}(t.monitor||(t.monitor={}))}(t||(t={})),function(t){!function(e){function n(t,e){var n=[],r=/^\s*(ADRUM_BT\w*)=(.*)\s*$/i.exec(t);if(r){var o=r[1],r=r[2].replace(/^"|"$/g,""),r=decodeURIComponent(r).split("|"),a=r[0].split(":");if("R"===a[0]&&Number(a[1])===e)for(i(o),o=1;o<r.length;o++)n.push(r[o])}return n}function r(t,e){var n=/^\s*(ADRUM_(\d+)_(\d+)_(\d+))=(.*)\s*$/i.exec(t);if(n){var r=n[1],o=n[4],a=n[5];if(Number(n[3])===e)return i(r),{index:Number(o),value:a}}return null}function o(e){var n=/^\s*ADRUM=s=([\d]+)&r=(.*)\s*/.exec(e);if(n)return t.log("M59",e),3===n.length?(i("ADRUM"),{startTime:Number(n[1]),startPage:n[2]}):(t.error("M60",e),null)}function i(e){t.log("M58",e);var n=new Date;n.setTime(n.getTime()-1e3),document.cookie=e+"=;Expires="+n.toUTCString()}e.startTimeCookie=null,e.cookieMetadataChunks=null,e.sc=function(i,a){t.log("M57");for(var s=a?a.length:0,u=[],c=i.split(";"),f=0;f<c.length;f++){var l=c[f],p=r(l,s);p?u.push(p):(l=o(l),null!=l&&(e.startTimeCookie=l))}for(Array.prototype.sort.call(u,function(t,e){
return t.index-e.index}),l=[],f=0;f<u.length;f++)l.push(u[f].value);for(f=0;f<c.length;f++)(u=n(c[f],s))&&0<u.length&&(l=l.concat(u));e.cookieMetadataChunks=l},t.correlation.eck=e.sc}(t.correlation||(t.correlation={}))}(t||(t={})),function(t){t.report=function(e){t.utils.isObject(e)&&t.utils.isFunction(e.type)?-1==[0,2,3,4].indexOf(e.type())?t.reportAPIMessage(0,e.type()+"is not a valid external event type","ADRUM.report",Array.prototype.slice.call(arguments)):t.utils.lb(function(){t.command("reportEvent",e)}):t.reportAPIMessage(1,"","ADRUM.report",Array.prototype.slice.call(arguments))}}(t||(t={})),function(t){"APP_KEY_NOT_SET"===t.conf.appKey&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log("AppDynamics EUM cloud application key missing. Please specify window['adrum-app-key']"),t.correlation.sc(document.cookie,document.referrer),t.command("mark","firstbyte",window["adrum-start-time"]),t.monitor.Cd(t.monitor.Ra,t.monitor.Hf,t.monitor.perfMonitor,t.monitor.ia)}(t||(t={})),function(t){t=t.ng||(t.ng={}),t=t.c||(t.c={}),t.Xc="locationChangeStart",t.Og="locationChangeSuccess",t.yd="routeChangeStart",t.zd="routeChangeSuccess",t.Gd="stateChangeStart",t.Hd="stateChangeSuccess",t.Rd="viewContentLoaded",t.qg="includeContentRequested",t.pg="includeContentLoaded",t.qc="digest",t.Di="outstandingRequestsComplete",t.jc="beforeNgXhrRequested",t.ac="afterNgXhrRequested",t.Ci="ngXhrLoaded",t.mc="$$completeOutstandingRequest"}(t||(t={})),function(t){!function(e){function n(t,n,r,o,i,a){if(n)try{return n.apply(t,[r,o,i].concat(a))}catch(n){return t.error(r,o,i,a,e.Error.re,"an exception occurred in a caller-provided callback function",n)}}function r(t,r){return function(){var o=this.current,i=r[o]||r[e.ma]||o,a=Array.prototype.slice.call(arguments);if(this.uf(t))return this.error(t,o,i,a,e.Error.se,"event "+t+" inappropriate in current state "+this.current);if(!1===n(this,this["onbefore"+t],t,o,i,a))return e.la.Cb;if(i===e.ma&&(i=o),o===i)return n(this,this["onafter"+t]||this["on"+t],t,o,i,a),e.la.Qe;var s=this;return this.transition=function(){return s.transition=null,s.current=i,n(s,s["onenter"+i]||s["on"+i],t,o,i,a),n(s,s["onafter"+t]||s["on"+t],t,o,i,a),e.la.Ye},!1===n(this,this["onleave"+o],t,o,i,a)?(this.transition=null,e.la.Cb):this.transition?this.transition():void 0}}var o=t.utils.hasOwnPropertyDefined;e.VERSION="2.3.5",e.la={Ye:1,Qe:2,Cb:3,ci:4},e.Error={se:100,di:200,re:300},e.ma="*",e.create=function(t,n){function i(t){var n=t.from instanceof Array?t.from:t.from?[t.from]:[e.ma];f[t.name]=f[t.name]||{};for(var r=0;r<n.length;r++)l[n[r]]=l[n[r]]||[],l[n[r]].push(t.name),f[t.name][n[r]]=t.to||n[r]}var a="string"==typeof t.initial?{state:t.initial}:t.initial,s=n||t.target||{},u=t.events||[],c=t.callbacks||{},f={},l={};a&&(a.event=a.event||"startup",i({name:a.event,from:"none",to:a.state}));for(var p=0;p<u.length;p++)i(u[p]);for(var d in f)o(f,d)&&(s[d]=r(d,f[d]));for(d in c)o(c,d)&&(s[d]=c[d]);return s.current="none",s.wi=function(t){return t instanceof Array?0<=t.indexOf(this.current):this.current===t},s.tf=function(t){return!this.transition&&(o(f[t],this.current)||o(f[t],e.ma))},s.uf=function(t){return!this.tf(t)},s.Fa=function(){return l[this.current]},s.error=t.error||function(t,e,n,r,o,i,a){throw a||i},a&&!a.defer&&s[a.event](),s}}(t.Vb||(t.Vb={}))}(t||(t={})),function(t){!function(n){var r=function(r){function o(e){this.constructor!=t.ng.NgVPageView&&this.constructor!=o?t.reportAPIMessage(0,t.W,"ADRUM.events.VPageView",[]):(r.call(this,e),this.perf=new t.PerformanceTracker,this.start(),t.monitor.ia.td())}return e(o,r),o.prototype.type=function(){return 3},o.prototype.cg=function(){return n.EventTracker.fc(this.guid(),this.url(),this.type())},o.prototype.Fd=function(e){var n=this.cg();e.set("parent",n),t.log("M61",n.guid(),n.url())},o.prototype.startCorrelatingXhrs=function(){t.log("M62"),this.Fd(t.monitor.ia)},o.prototype.stopCorrelatingXhrs=function(){t.monitor.ia.set("parent",null),t.log("M63")},o.prototype.zh=function(){t.log("M64"),this.Fd(t.monitor.Ra)},o.prototype.start=function(){this.markVirtualPageStart(),this.startCorrelatingXhrs()},o.prototype.end=function(){this.markVirtualPageEnd(),this.stopCorrelatingXhrs()},o}(n.EventTracker);n.VPageView=r,n.aa(n.w[3],r.prototype),n.gc(n.metricSpec[3],r.prototype)}(t.events||(t.events={}))}(t||(t={})),function(t){var e=t.ng||(t.ng={}),e=e.conf||(e.conf={});e.disabled=t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&t.conf.userConf.spa.angular.disable,e.distinguishVPwithItsTemplateUrl=!!(t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&!0===t.conf.userConf.spa.angular.distinguishVPwithItsTemplateUrl),e.xhr={},e.metrics={includeResTimingInEndUserResponseTiming:!0},t.conf.userConf&&t.conf.userConf.spa&&t.conf.userConf.spa.angular&&t.conf.userConf.spa.angular.vp&&(t.conf.userConf.spa.angular.vp.xhr&&t.monitor.na.nd(e.xhr,t.conf.userConf.spa.angular.vp.xhr),t.conf.userConf.spa.angular.vp.metrics&&t.utils.mergeJSON(e.metrics,t.conf.userConf.spa.angular.vp.metrics))}(t||(t={})),function(t){!function(n){var r=function(r){function o(e){r.call(this,e),this.Qc=!0,this.da={},this.V=0,this.constructor!=o?t.reportAPIMessage(0,t.W,"ADRUM.events.Ajax",[]):this.stopCorrelatingXhrs()}return e(o,r),o.prototype.type=function(){return 3},o.prototype.Ab=function(){this.markViewChangeStart(),this.markVirtualPageStart(this.getViewChangeStart()),this.timestamp(this.getViewChangeStart())},o.prototype.rg=function(){this.digestCount(this.digestCount()+1)},o.prototype.sg=function(){this.V++,t.log("increasing xhr count "+this.V+" pending xhr requests")},o.prototype.Df=function(){this.V--,t.log("decreasing xhr count "+this.V+" pending xhr requests")},o.prototype.lg=function(){var e=this.perf.getEntryByName(t.events.b.Vd);return t.log("xhrCount "+this.V+" xhrReuqestCompleted "+e),0<this.V},o.prototype.qf=function(){var t={Ea:0},e=document.querySelectorAll("ng-view, [ng-view], .ng-view, [ui-view]");if(e&&0<e.length)for(var n in o.ud)for(var r=0;r<e.length;r++){var i=angular.element(e[r]).find(n);if(0<i.length)for(var a=0;a<i.length;a++){var s=i[a][o.ud[n].sb];(s=s?decodeURIComponent(s):null)&&!t[s]&&(t[s]=n,t.Ea++)}}this.da=t},o.prototype.pf=function(t){return!!this.da[decodeURIComponent(t.name)]},o.prototype.rf=function(){var e=[],n=this;0<this.da.Ea&&(e=t.monitor.perfMonitor.Dc().filter(function(t){return n.pf(t)})),this.resTiming(e)},o.Sf=function(e){for(var r=[],o=0;o<e.length;o++){var i=e[o];2!==e[o].eventType&&101!==e[o].eventType||t.monitor.na.Ed(i.eventUrl,i.method,n.conf.xhr)||r.push(e[o])}return r},o.dg=function(t){var e,n,r=-1;for(e=0,n=t.length;e<n;e++)r=Math.max(r,t[e].timestamp+t[e].metrics.PLT);return r},o.prototype.kf=function(){if(n.conf.xhr){var e=o.Sf(t.channel.getEventsWithParentGUID(this.guid())),e=o.dg(e);if(0<e){var r=this.perf.getEntryByName(t.events.b.Vd);this.markXhrRequestsCompleted(Math.min(r&&r.startTime||Number.MAX_VALUE,e))}}},o.prototype.adjustTimings=function(){this.kf();var e=this.getViewDOMLoaded(),r=this.getXhrRequestsCompleted(),e=Math.max(e,r);n.conf.metrics.includeResTimingInEndUserResponseTiming&&(this.jf(),r=this.getViewResourcesLoaded(),r=Math.max(e,r),t.log("adjust this.end from %s to %s",e,r),e=r),this.markVirtualPageEnd(e)},o.prototype.jf=function(){if(0<this.da.Ea){this.rf();var e=this.resTiming();if(e&&e.length>=this.da.Ea){for(var n=[],r=0;r<e.length;r++)n.push(e[r].responseEnd);e=Math.max.apply(Math,n),this.markViewResourcesLoaded(t.PerformanceTracker.La(e))}}},o.prototype.identifier=function(e){var n=this.Td;return t.utils.isDefined(e)&&(this.Td=o.Qf(e),this.url(this.Td.url)),n},o.Qf=function(e){var n={};return e&&e.j?(n.j={eb:""},t.utils.mergeJSON(n.j,{eb:e.j.originalPath,ea:e.j.template,fa:e.j.templateUrl})):e&&e.state&&(n.state={url:""},t.utils.mergeJSON(n.state,{url:e.state.url,name:e.state.name,ea:e.state.template,fa:e.state.templateUrl})),n},o.ud={img:{sb:"src"},script:{sb:"src"},link:{sb:"href"}},o}(t.events.VPageView);n.NgVPageView=r,t.events.aa(t.events.w[102],r.prototype)}(t.ng||(t.ng={}))}(t||(t={})),function(t){!function(e){var n=function(){function n(){this.h=new e.NgVPageView}return n.prototype.qh=function(){var r=this;e.conf.metrics.includeResTimingInEndUserResponseTiming?(t.log("M65"),setTimeout(function(){r.hb()},n.$e)):setTimeout(function(){r.hb()},n.af)},n.prototype.hb=function(){t.log("M66");var e=this.h;e.parent(t.monitor.DOMEventsMonitor.currentBasePage),t.command("call",function(){e.adjustTimings(),t.reporter.reportEvent(e)})},n.prototype.vh=function(t){this.h=t},n.$e=5e3,n.af=2*t.monitor.na.Gb,n}();e.VirtualPageStateMachine=n,t.Vb.create({events:[{name:"start",from:"none",to:"ChangeView"},{name:"viewLoaded",from:"ChangeView",to:"XhrPending"},{name:"xhrCompleted",from:"XhrPending",to:"End"},{name:"abort",from:"*",to:"none"},{name:"init",from:"*",to:"none"},{name:"locChange",from:"*",to:"*"},{name:"beforeXhrReq",from:"*",to:"*"},{name:"afterXhrReq",from:"*",to:"*"}],error:function(e){t.log("M67"+e)},callbacks:{onChangeView:function(){this.h.Ab(),this.h.zh()},onviewLoaded:function(){this.h.markViewDOMLoaded()},onXhrPending:function(){this.h.Qc&&this.xhrCompleted()},onleaveXhrPending:function(t,e,n){return"abort"===t?(this.hb(),!0):"xhrCompleted"===t&&"End"===n?!this.h.lg()&&(this.h.markXhrRequestsCompleted(),!0):void 0},onEnd:function(){this.h.qf(),this.qh()},oninit:function(e,n,r,o){this.vh(o),t.monitor.ia.td()},onlocChange:function(t,e,n,r){this.h.identifier.url=r,this.h.nb({url:r})},onbeforeXhrReq:function(e,n,r,o){var i=this.h;return i.Qc=!1,t.log("M68",o&&o[1]||"",i.guid()),i.sg(),i.startCorrelatingXhrs(),o[3]&&(o[3]=t.aop.before(o[3],function(e,n,r){t.log("M69"),i.Df(),r&&(e=t.utils.fh(r)["content-type"])&&0<=e.indexOf("text/html")&&i.markViewFragmentsLoaded()})),o},onafterXhrReq:function(){this.h.stopCorrelatingXhrs()}}},n.prototype)}(t.ng||(t.ng={}))}(t||(t={})),function(t){!function(e){var n=function(){function n(){this.n=new e.VirtualPageStateMachine,this.distinguishVPwithItsTemplateUrl=t.ng.conf.distinguishVPwithItsTemplateUrl}return n.prototype.k=function(r,o){switch(t.log("M70",r),r){case e.c.yd:case e.c.Gd:this.n.start();var i=o.next.url||document.URL,a=new e.NgVPageView({url:i,identifier:o.next});this.distinguishVPwithItsTemplateUrl&&n.Ag(this.n.h,a)?this.n.h.nb({url:i,identifier:o.next}):this.Fh(a);break;case e.c.zd:case e.c.Hd:this.n.h.markViewChangeEnd();break;case e.c.Rd:this.n.viewLoaded();break;case e.c.jc:this.n.beforeXhrReq(o);break;case e.c.ac:this.n.afterXhrReq();break;case e.c.mc:this.n.xhrCompleted();break;case e.c.Xc:this.n.locChange(o.next.url);break;case e.c.qc:this.n.h.rg()}},n.prototype.Fh=function(t){this.n.abort(),this.n.init(t),this.n.start()},n.Ag=function(e,n){var r=e.identifier(),o=n.identifier(),i=!1;return i=!t.utils.isDefined(r)&&!t.utils.isDefined(o)||r===o||!(!t.utils.isDefined(r)||!t.utils.isDefined(o))&&(r.state||o.state?!(!t.utils.isDefined(r.state)||!t.utils.isDefined(o.state))&&(r.state.name===o.state.name&&r.state.ea===o.state.ea&&r.state.fa===o.state.fa&&r.state.url===o.state.url):r.j&&o.j?r.j.eb===o.j.eb&&r.j.ea===o.j.ea&&r.j.fa===o.j.fa:r.url===o.url)},n}();e.bf=n}(t.ng||(t.ng={}))}(t||(t={})),function(t){!function(e){var n=t.utils.addEventListener,r=function(){function r(){this.l=new e.bf,this.Oc=!1}return r.prototype.setUp=function(){function e(e){return function(){t.log(e),r.init()}}var r=this;e("M71")(),n(document,"DOMContentLoaded",e("M72")),n(window,"load",e("M73"))},r.prototype.init=function(){if("undefined"!=typeof angular&&!this.Oc){this.Oc=!0,t.log("M74");var e=this,n=angular.module("ng");n.config(["$provide",function(t){e.xg(t),e.wg(t)}]),n.run(["$browser",function(t){e.vg(t)}]),t.log("M75")}},r.prototype.wg=function(n){var r=t.aop,o=this;n.decorator("$httpBackend",["$delegate",function(t){return t=r.around(t,function(){var t=Array.prototype.slice.call(arguments);return o.l.k(e.c.jc,t),t},function(){o.l.k(e.c.ac)},"ng.httpBackend")}])},r.prototype.xg=function(n){var r=t.aop,o=this;n.decorator("$rootScope",["$delegate",function(t){return t.$digest=r.after(t.$digest,function(){o.l.k(e.c.qc)},"ngevents.digest"),t.$on("$locationChangeStart",function(t,n){var r={url:n},i=t&&t.ba&&t.ba.$state&&t.ba.$state.current;i&&(r.state=i),o.l.k(e.c.Xc,{next:r})}),t.$on("$locationChangeSuccess",function(){o.l.k(e.c.Og)}),t.$on("$routeChangeStart",function(t,n){var r={url:location.href},i=n&&n.$$route;i&&(r.j=i),o.l.k(e.c.yd,{next:r})}),t.$on("$routeChangeSuccess",function(){o.l.k(e.c.zd)}),t.$on("$stateChangeStart",function(t,n){o.l.k(e.c.Gd,{next:{state:n}})}),t.$on("$stateChangeSuccess",function(){o.l.k(e.c.Hd)}),t.$on("$viewContentLoaded",function(t){var n={url:location.href};(t=t&&t.ba&&t.ba.$state&&t.ba.$state.current)&&(n.state=t),o.l.k(e.c.Rd,{next:n})}),t.$on("$includeContentRequested",function(){o.l.k(e.c.qg)}),t.$on("$includeContentLoaded",function(){o.l.k(e.c.pg)}),t}])},r.prototype.vg=function(n){var r=this;n.$$completeOutstandingRequest=t.aop.before(n.$$completeOutstandingRequest,function(){r.l.k(e.c.mc)})},r}();e.Yh=r,e.ngMonitor=new r}(t.ng||(t.ng={}))}(t||(t={})),function(t){var e=t.ng||(t.ng={});e.conf.disabled||t.monitor.Cd(e.ngMonitor)}(t||(t={}))}}}();
//# sourceMappingURL=adrum-ext.js.map